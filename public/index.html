<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Compress Photo | Compress Multiple Images to ZIP</title>
<meta name="description" content="Compress photos and resize images quickly with full privacy. Try our free image resizer tool for fast, secure photo compression!">
<meta name="keywords" content="compress photo, photo compress, quick compress photo, image compressor, free compress photo">
  <meta name="author" content="compress-photo.com" />
  <meta name="robots" content="index, follow" />
<link rel="icon" type="image/x-icon" href="/favicon.ico" />

  <!-- Open Graph Meta Tags for Social Media -->
<meta property="og:title" content="Compress Photos With Secure & Privately" />
  <meta property="og:description" content="Compress multiple images online for free, download as a ZIP file, and reset easily with compress-photo.com. Reduce file size without losing quality." />
  <meta property="og:image" content="/compress-photo-og.jpg" />
  <meta property="og:url" content="https://compress-photo.netlify.app" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Compress Photos — Compress-Photo.Com | Compress Multiple Images to ZIP" />
  <meta name="twitter:description" content="Compress multiple images online for free, download as a ZIP file, and reset easily with Compress-Photo.Com." />
  <meta name="twitter:image" content="/compress-photo-og.jpg" />

  <!-- Google Fonts -->
  <link rel="preload" href="https://fonts.googleapis.com" crossorigin />
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

  <!-- JSZip CDN for ZIP functionality -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<style>
  /* ============================= */
/* Complete Critical CSS - Compress Photo */
/* ============================= */

/* Font Faces (WOFF2 for performance) */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfMZg.woff2') format('woff2');
}
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuI6fMZg.woff2') format('woff2');
}
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuFuYMZg.woff2') format('woff2');
}
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 900;
  font-display: swap;
  src: url('https://fonts.gstatic.com/s/inter/v19/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuBWYMZg.woff2') format('woff2');
}

/* Body default font */
body {
  font-family: 'Inter', sans-serif;
  font-display: swap;
  margin: 0;
}

/* ========================= */
/* Header & Hero */
div.mx-auto a img {
  height: 60px;
  width: auto;
}
.bg-hero {
  background: linear-gradient(135deg, #1994e6 0%, #0f204a 100%);
}

/* ========================= */
/* Image Preview Grid */
.preview-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
}
.image-preview {
  width: 100%;
  height: 180px;
  object-fit: cover;
  border-radius: 0.5rem;
}

/* Compressor Cards & Buttons */
.compressor-card {
  background: white;
  border-radius: 0.5rem;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: all 0.2s ease;
}
.compressor-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}
.input-hover:hover {
  border-color: #1994e6;
}
.btn-hover:hover {
  transform: scale(1.05);
}

/* ========================= */
/* Mobile adjustments */
@media (max-width: 640px) {
  .preview-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }
  .image-preview {
    height: 120px;
  }
  div.mx-auto a img {
    height: 40px;
    width: auto;
  }
}
    
  </style>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VJGX59X9ND"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VJGX59X9ND');
</script>
</head>
<body class="bg-gray-50">
  <!-- Header -->
  <header class="bg-white shadow-sm">
    <div class="mx-auto max-w-[960px] px-4 py-4 flex justify-center">
      <a href="#">
        <img src="/compress-photo.png" alt="compress-photo" class="h-10 w-auto" />
      </a>
    </div>
  </header>

  <!-- Main Content -->
  <main class="px-4 md:px-8 lg:px-10 xl:px-40 py-8">
    <div class="mx-auto max-w-[960px]">
      <!-- Hero Section -->
      <section class="px-4 md:px-8 py-8 text-center bg-hero rounded-lg">
        <div class="max-w-3xl mx-auto">
          <h1 class="text-2xl md:text-3xl font-bold text-white mb-2">Compress Photos</h1>
          <p class="text-white text-sm md:text-base">Reduce your image file size quickly and easily without losing quality.</p>
        </div>
      </section>

      <!-- Image Compressor Section -->
      <section id="image-compressor" class="py-8">
        <p class="text-blue-600 font-medium mb-6">Choose images to start compressing now!</p>
        <div class="flex flex-col gap-6">
          <input type="file" id="imageInput" accept="image/jpeg, image/png" multiple class="border border-gray-300 rounded-lg p-3 input-hover transition-colors" />
          <div class="flex flex-col sm:flex-row gap-4 items-center">
            <label for="qualitySlider" class="text-base font-medium text-gray-700">Compression Quality (0-100%):</label>
            <input type="range" id="qualitySlider" min="0" max="100" value="80" class="w-full sm:w-1/2" />
            <span id="qualityValue" class="text-base text-gray-700">80%</span>
          </div>
          <div id="sizeInfo" class="text-base text-gray-600"></div>
          <div id="progressInfo" class="text-base text-gray-600 hidden">Compressing...</div>
          <div id="imagePreviews" class="preview-grid"></div>
        </div>
      </section>

      <!-- Progress Section -->
      <section id="progress-section" class="py-4 hidden">
        <progress id="compression-progress" max="100" value="0" class="w-full rounded-lg"></progress>
      </section>

      <!-- Output Section (Hidden Initially) -->
      <section id="output-section" class="py-8 hidden"></section>

      <!-- Benefits Section -->
<section class="py-12 bg-gray-50">
  <div class="container mx-auto px-4">
    <h2 class="text-[#111518] text-2xl md:text-3xl font-bold leading-tight pb-6 text-center">Why Compress Photos? Boost Performance and SEO</h2>
    <p class="text-gray-600 text-base md:text-lg text-center mb-8">Image compression is essential for optimizing website performance, saving storage, and improving user experience. Discover the key benefits of compressing photos for your website, blog, or online store.</p>
    <div class="bg-white p-8 rounded-xl shadow-lg">
      <ul class="list-disc list-inside text-gray-600 text-base md:text-lg space-y-4">
        <li><span class="font-medium text-gray-800">Faster Website Loading:</span> Smaller image files significantly reduce page load times, improving website performance and user experience. Faster websites rank higher on search engines like Google, as page speed is a critical SEO factor. Optimized images ensure visitors stay engaged and reduce bounce rates.</li>
        <li><span class="font-medium text-gray-800">Save Storage Space:</span> Image compression reduces file sizes, allowing you to store more photos on your device, server, or cloud storage. This is especially beneficial for photographers, e-commerce businesses, and bloggers managing large image libraries, helping you save on storage costs.</li>
        <li><span class="font-medium text-gray-800">High-Quality Results:</span> Advanced compression tools maintain image clarity while reducing file size. With customizable compression settings, you can balance quality and performance, ensuring your visuals remain stunning for websites, portfolios, or social media without sacrificing speed.</li>
        <li><span class="font-medium text-gray-800">Easy Sharing and Uploads:</span> Compressed images, often bundled in a ZIP file, are quicker to upload and share via email, social media, or messaging platforms. This streamlines workflows for content creators, marketers, and businesses, enabling faster content delivery to audiences.</li>
        <li><span class="font-medium text-gray-800">Improved SEO and Rankings:</span> Search engines prioritize websites with fast load times and optimized images. By using compressed images, you enhance your site’s SEO performance, improve user engagement metrics, and increase the likelihood of ranking higher in search results.</li>
        <li><span class="font-medium text-gray-800">Mobile-Friendly Experience:</span> Compressed images load faster on mobile devices, where users expect quick access to content. A mobile-optimized website with smaller image files improves accessibility, reduces data usage, and caters to the growing number of mobile users, further boosting SEO.</li>
      </ul>
    </div>
    <div class="text-center mt-8">
      <a href="#imageInput" class="inline-block bg-blue-600 text-white font-medium py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300">Start Compressing Photos Now</a>
    </div>
  </div>
</section>
     
    </div>
  </main>


<div id="cookie-consent" class="hidden fixed bottom-0 left-0 right-0 bg-gray-800 text-white py-4 px-4 shadow-lg z-50">
  <div class="max-w-[960px] mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
    <div class="text-sm">
      We use cookies to enhance your experience. By continuing to browse, you agree to our use of cookies.
    </div>
    <div class="flex gap-3">
      <button id="cookie-accept" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium">
        Accept All
      </button>
      <button id="cookie-settings" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium">
        Settings
      </button>
      <button id="cookie-reject" class="bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium border border-gray-600">
        Reject
      </button>
    </div>
  </div>
</div>

<div id="cookie-settings-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-bold text-gray-900">Cookie Preferences</h3>
      <button id="cookie-modal-close" class="text-gray-500 hover:text-gray-700">
        ✕
      </button>
    </div>
    
    <div class="space-y-4 mb-6">
      <div class="flex items-center justify-between">
        <div>
          <h4 class="font-medium text-gray-900">Essential Cookies</h4>
          <p class="text-sm text-gray-500">Required for basic site functionality</p>
        </div>
        <label class="relative inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" checked disabled>
          <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600"></div>
        </label>
      </div>
      
      <div class="flex items-center justify-between">
        <div>
          <h4 class="font-medium text-gray-900">Analytics Cookies</h4>
          <p class="text-sm text-gray-500">Help us improve our services</p>
        </div>
        <label class="relative inline-flex items-center cursor-pointer">
          <input type="checkbox" id="analytics-cookies" class="sr-only peer">
          <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600"></div>
        </label>
      </div>
    </div>
    
    <button id="save-cookie-settings" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium">
      Save Preferences
    </button>
  </div>
</div>
<!-- Add these modal dialogs before </body> -->
<div id="privacy-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-xl font-bold text-gray-900">Privacy Policy</h3>
      <button onclick="closeModal('privacy-modal')" class="text-gray-500 hover:text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div class="prose prose-sm text-gray-700">
      <h4>1. Information We Collect</h4>
      <p>We collect information you provide directly when using our image compression tool...</p>
      
      <h4>2. How We Use Your Information</h4>
      <p>Your images are processed temporarily during compression and are not stored permanently...</p>
      
      <h4>3. Cookies</h4>
      <p>We use cookies to enhance your experience...</p>
    </div>
    <div class="mt-6">
      <button onclick="closeModal('privacy-modal')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium">
        Close
      </button>
    </div>
  </div>
</div>

<div id="terms-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-xl font-bold text-gray-900">Terms of Service</h3>
      <button onclick="closeModal('terms-modal')" class="text-gray-500 hover:text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div class="prose prose-sm text-gray-700">
      <h4>1. Acceptance of Terms</h4>
      <p>By using our image compression tool, you agree to these terms...</p>
      
      <h4>2. Service Description</h4>
      <p>We provide free online image compression services...</p>
      
      <h4>3. User Responsibilities</h4>
      <p>You agree not to upload copyrighted material without permission...</p>
    </div>
    <div class="mt-6">
      <button onclick="closeModal('terms-modal')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium">
        Close
      </button>
    </div>
  </div>
</div>

<!-- Update your footer links to trigger modals -->
<footer class="bg-gray-900 text-white py-6">
  <div class="mx-auto max-w-[960px] px-4 flex flex-col justify-center items-center gap-4">
    <p class="text-center text-sm">Image compressed, never saved! Get your <br> file and enjoy full privacy.</p>
    <div class="flex gap-4">
      <a href="#" onclick="openModal('privacy-modal'); return false;" class="hover:text-blue-200 transition-colors">Privacy Policy</a>
      <a href="#" onclick="openModal('terms-modal'); return false;" class="hover:text-blue-200 transition-colors">Terms of Service</a>
    </div>
  </div>
</footer>

<script defer> 
document.addEventListener('DOMContentLoaded', () => {
  const MAX_FILE_SIZE_MB = 10;
  const uploadInput = document.getElementById('imageInput');
  const progressSection = document.getElementById('progress-section');
  const outputSection = document.getElementById('output-section');
  const progressBar = document.getElementById('compression-progress');
  const qualityRange = document.getElementById('qualitySlider');
  const qualityValue = document.getElementById('qualityValue');
  const sizeInfo = document.getElementById('sizeInfo');
  const imagePreviews = document.getElementById('imagePreviews');

  // Show error message
  function showError(message) {
    alert(message);
  }

  // Update quality value text
  qualityRange.addEventListener('input', () => {
    qualityValue.textContent = qualityRange.value + '%';
  });

  // Clear UI and reset input
  function reset() {
    uploadInput.value = '';
    sizeInfo.textContent = '';
    progressSection.classList.add('hidden');
    outputSection.classList.add('hidden');
    outputSection.innerHTML = '';
    progressBar.value = 0;
    imagePreviews.innerHTML = '';
  }

  // Compress images using Netlify Functions
  async function compressImages(files) {
    if (!files.length) {
      showError('No file selected.');
      return;
    }

    const imageFiles = Array.from(files).filter(
      (file) =>
        (file.type === 'image/jpeg' || file.type === 'image/png') &&
        file.size <= MAX_FILE_SIZE_MB * 1024 * 1024
    );

    if (imageFiles.length === 0) {
      showError('Please upload valid JPEG or PNG images smaller than 10MB.');
      return;
    }

    sizeInfo.textContent = `${imageFiles.length} image(s) selected. Processing...`;
    progressSection.classList.remove('hidden');
    progressBar.value = 0;
    outputSection.classList.add('hidden');
    outputSection.innerHTML = '';
    imagePreviews.innerHTML = ''; // Clear the preview div

    const zip = new JSZip();
    let progress = 0;
    const progressIncrement = 100 / imageFiles.length;

    for (const [index, file] of imageFiles.entries()) {
      try {
        // Read file as DataURL
        const dataUrl = await readFileAsDataURL(file);
        console.log(`Processing file: ${file.name}`);

        // Send to Netlify Function for compression
        const response = await fetch('/.netlify/functions/compress', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            imageData: dataUrl,
            format: 'webp',
            quality: parseInt(qualityRange.value),
          }),
        });

        if (!response.ok) {
          const errorData = await response.json().catch(() => ({}));
          throw new Error(errorData.error || `Compression failed for ${file.name}`);
        }

        const result = await response.json();
        if (!result.compressedImage) {
          throw new Error('No compressed image returned');
        }

        const compressedDataUrl = result.compressedImage;
        const compressedBlob = dataURLtoBlob(compressedDataUrl);

        // Add compressed image to ZIP
        zip.file(`compressed-${file.name.replace(/[^a-zA-Z0-9.-]/g, '_')}`, compressedBlob);

        // Calculate original and compressed file sizes
        const originalSizeKB = (file.size / 1024).toFixed(2);
        const compressedSizeKB = (compressedBlob.size / 1024).toFixed(2);

        // Create preview card
        const container = document.createElement('div');
        container.classList.add('compressor-card', 'p-3');
        container.innerHTML = `
          <div class="flex flex-col">
            <img src="${compressedDataUrl}" alt="Compressed ${file.name}" class="image-preview mb-2" loading="lazy" />
            <div class="flex justify-between items-center text-xs text-gray-500">
              <span>Original: ${originalSizeKB}KB</span>
              <span>→</span>
              <span>Compressed: ${compressedSizeKB}KB</span>
            </div>
            <div class="flex gap-2 mt-2">
              <a href="${compressedDataUrl}" download="compressed-${file.name.replace(/[^a-zA-Z0-9.-]/g, '_')}" 
                 class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-center text-xs transition-colors">
                 Download
              </a>
              <button class="preview-btn flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 px-2 py-1 rounded text-xs">
                Preview
              </button>
            </div>
          </div>
        `;

        // Preview modal handler
        container.querySelector('.preview-btn').addEventListener('click', () => {
          const modal = document.createElement('div');
          modal.classList.add('fixed', 'inset-0', 'bg-black', 'bg-opacity-50', 'flex', 'justify-center', 'items-center', 'z-50');
          modal.innerHTML = `
            <div class="bg-white p-4 rounded-lg max-w-[90%] max-h-[90%] overflow-auto">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <h3 class="font-bold mb-2">Original (${originalSizeKB}KB)</h3>
                  <img src="${dataUrl}" alt="Original ${file.name}" class="max-w-full h-auto" />
                </div>
                <div>
                  <h3 class="font-bold mb-2">Compressed (${compressedSizeKB}KB)</h3>
                  <img src="${compressedDataUrl}" alt="Compressed ${file.name}" class="max-w-full h-auto" />
                </div>
              </div>
              <button class="mt-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg">Close</button>
            </div>
          `;
          document.body.appendChild(modal);
          modal.querySelector('button').addEventListener('click', () => modal.remove());
        });

        imagePreviews.appendChild(container);
        console.log(`Preview added for: ${file.name}`);

        // Update progress bar
        progress += progressIncrement;
        progressBar.value = Math.min(progress, 100);
      } catch (error) {
        console.error(`Error processing image ${file.name}: ${error.message}`);
        showError(`Error processing image ${file.name}: ${error.message}`);
        reset();
        return;
      }
    }

    // Show output buttons
    progressSection.classList.add('hidden');
    outputSection.classList.remove('hidden');
    outputSection.innerHTML = `
      <div class="flex flex-col items-center gap-4">
        <h2 class="text-gray-900 text-xl font-bold">Your ${imageFiles.length} compressed images are ready!</h2>
        <div class="flex gap-4">
          <button id="downloadZipBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium">
            Download All as ZIP
          </button>
          <button id="resetBtn" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-medium">
            Compress More Images
          </button>
        </div>
      </div>
    `;

    // Add event listeners for output buttons
    document.getElementById('downloadZipBtn').addEventListener('click', async () => {
      const content = await zip.generateAsync({ type: 'blob' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(content);
      link.download = 'compressed-images.zip';
      link.click();
      URL.revokeObjectURL(link.href);
    });

    document.getElementById('resetBtn').addEventListener('click', reset);
  }

  // Utility: Read file as DataURL
  function readFileAsDataURL(file) {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.onload = () => resolve(reader.result);
      reader.onerror = () => reject(new Error('Failed to read file'));
      reader.readAsDataURL(file);
    });
  }

  // Utility: Convert DataURL to Blob
  function dataURLtoBlob(dataurl) {
    const arr = dataurl.split(',');
    const mime = arr[0].match(/:(.*?);/)[1];
    const bstr = atob(arr[1]);
    let n = bstr.length;
    const u8arr = new Uint8Array(n);
    while (n--) {
      u8arr[n] = bstr.charCodeAt(n);
    }
    return new Blob([u8arr], { type: mime });
  }

  // On file input change
  uploadInput.addEventListener('change', () => {
    if (uploadInput.files.length === 0) {
      showError('No file selected.');
      return;
    }
    compressImages(uploadInput.files);
  });

  // Cookie Consent Manager
  const cookieConsent = document.getElementById('cookie-consent');
  const cookieAccept = document.getElementById('cookie-accept');
  const cookieReject = document.getElementById('cookie-reject');
  const cookieSettings = document.getElementById('cookie-settings');
  const cookieModal = document.getElementById('cookie-settings-modal');
  const cookieModalClose = document.getElementById('cookie-modal-close');
  const analyticsToggle = document.getElementById('analytics-cookies');

  function checkConsent() {
    return localStorage.getItem('cookieConsent');
  }

  if (!checkConsent()) {
    cookieConsent.classList.remove('hidden');
  }

  function setConsent(consent) {
    localStorage.setItem('cookieConsent', JSON.stringify(consent));
    cookieConsent.classList.add('hidden');
    if (consent.analytics) {
      console.log('Analytics cookies enabled');
    } else {
      console.log('Analytics cookies disabled');
    }
  }

  cookieAccept.addEventListener('click', () => {
    setConsent({ essential: true, analytics: true });
  });

  cookieReject.addEventListener('click', () => {
    setConsent({ essential: true, analytics: false });
  });

  cookieSettings.addEventListener('click', () => {
    const consent = checkConsent() ? JSON.parse(checkConsent()) : { analytics: false };
    analyticsToggle.checked = consent.analytics || false;
    cookieModal.classList.remove('hidden');
  });

  cookieModalClose.addEventListener('click', () => {
    cookieModal.classList.add('hidden');
  });

  document.getElementById('save-cookie-settings').addEventListener('click', () => {
    setConsent({ essential: true, analytics: analyticsToggle.checked });
    cookieModal.classList.add('hidden');
  });

  const existingConsent = checkConsent();
  if (existingConsent && JSON.parse(existingConsent).analytics) {
    console.log('Loading existing analytics consent');
  }
});

// Modal control functions
function openModal(modalId) {
  document.getElementById(modalId).classList.remove('hidden');
  document.body.style.overflow = 'hidden';
}

function closeModal(modalId) {
  document.getElementById(modalId).classList.add('hidden');
  document.body.style.overflow = '';
}

document.querySelectorAll('[id$="-modal"]').forEach((modal) => {
  modal.addEventListener('click', function (e) {
    if (e.target === this) {
      closeModal(this.id);
    }
  });
});

document.addEventListener('keydown', function (e) {
  if (e.key === 'Escape') {
    document.querySelectorAll('[id$="-modal"]').forEach((modal) => {
      if (!modal.classList.contains('hidden')) {
        closeModal(modal.id);
      }
    });
  }
});
                              
</script>
</body>

</html>
